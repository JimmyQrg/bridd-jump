<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>BRIDD JUMP</title>
<link rel="icon" href="https://raw.githubusercontent.com/JimmyQrg/bridd-jump/main/infinite-campus.png">
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
<style>
:root{--bg:#000;--accent:#0ff;--panel:rgba(0,0,0,0.9);--muted:#88f7ff;}
*{box-sizing:border-box;}html,body{height:100%;margin:0;background:var(--bg);color:#fff;font-family:"Press Start 2P",monospace;-webkit-font-smoothing:none;-moz-osx-font-smoothing:grayscale;}
canvas{display:block;position:absolute;top:0;left:0;width:100%;height:100%;z-index:1;background:#000;}
#menu{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:460px;max-width:94vw;padding:28px;background:var(--panel);border:4px solid var(--accent);border-radius:12px;display:flex;flex-direction:column;align-items:center;gap:12px;z-index:1200;pointer-events:all;}
#menu h1{margin:0;font-size:28px;color:var(--accent);text-shadow:0 0 12px var(--accent);}
#bestScore{font-size:12px;color:var(--muted);margin-top:6px;}
.btn{appearance:none;border:3px solid var(--accent);background:transparent;color:var(--accent);padding:12px 18px;border-radius:10px;cursor:pointer;font-size:12px;width:300px;text-align:center;}
.btn:hover{background:var(--accent);color:#000;}
#scoreHUD{position:fixed;left:12px;top:12px;z-index:1100;font-size:12px;color:var(--accent);text-shadow:0 0 6px rgba(0,255,255,0.2);pointer-events:none;font-family:"Press Start 2P",monospace;}
#fpsLabel{position:fixed;left:12px;top:44px;z-index:1100;font-size:11px;color:var(--accent);pointer-events:none;}
#debugToast{position:fixed;left:50%;transform:translateX(-50%);bottom:18px;z-index:1300;background:rgba(0,0,0,0.6);border:2px solid var(--accent);color:var(--accent);padding:8px 12px;border-radius:8px;display:none;font-size:11px;pointer-events:none;}
@media(max-width:560px){#menu{width:92vw;padding:18px;}.btn{width:100%;font-size:11px;padding:10px;}#menu h1{font-size:20px;}}
</style>
</head>
<body>
<canvas id="gameCanvas"></canvas>
<div id="menu" role="dialog" aria-label="start menu">
<h1>BRIDD JUMP</h1>
<div id="bestScore">Best Score: 0</div>
<button id="startBtn" class="btn">START</button>
<button id="settingsBtn" class="btn">SETTINGS</button>
</div>
<div id="scoreHUD">Score: 0</div>
<div id="fpsLabel">FPS: -- / --</div>
<div id="debugToast"></div>
<script>
// ===================== FULL BRIDD JUMP JS =====================

// ---------- Canvas & resize ----------
const canvas=document.getElementById('gameCanvas'),ctx=canvas.getContext('2d');
function resize(){canvas.width=window.innerWidth;canvas.height=window.innerHeight;}
window.addEventListener('resize',resize);resize();

// ---------- Constants & state ----------
const BLOCK_SIZE=50,JUMP_SPEED=-15,GRAVITY=0.7;
let player={x:100,y:0,width:50,height:50,vy:0,speed:8,color:"#0ff",hitboxScale:0.6,jumpsLeft:2,onGround:false,visible:true,horizMultiplier:1,vertMultiplier:1,accountEmail:"player@example.com"};
let platforms=[],spikes=[],gems=[],particles=[],crashPieces=[],trail=[],lines=[];
let keys={},score=0,bestScore=localStorage.getItem("bestScore")?parseInt(localStorage.getItem("bestScore")):0,gameRunning=false,lastTime=performance.now(),cameraX=0,cameraY=0;
let baseColors=[{r:255,g:0,b:0},{r:255,g:153,b:0},{r:255,g:255,b:0},{r:0,g:255,b:0},{r:0,g:255,b:255},{r:0,g:0,b:255},{r:153,g:0,b:255}],colorIndex=0,nextColor=baseColors[1],platformColor={...baseColors[0]},colorLerp=0,globalTime=0;
let testMode=false,gemEveryBlock=false,account="player",oldAccount=null;
let cheats={float:false,invincible:false,infiniteJump:false};

// ---------- Settings ----------
const LS_KEY="briddSettings";
const defaultSettings={maxFPS:0,qualityPreset:"Extreme+",quality:{jumpEffect:64,walkEffect:64,dieEffect:64,horizontalLines:64,trail:64,blockTexture:100,glow:100}};
const qualityPresets={"Potato":{blockTexture:0,jumpEffect:0,walkEffect:0,dieEffect:0,horizontalLines:0,trail:0,glow:0,lines:false},"Low":{blockTexture:0,jumpEffect:5,walkEffect:0,dieEffect:0,horizontalLines:0,trail:0,glow:0,lines:false},"Medium":{blockTexture:1,jumpEffect:10,walkEffect:0,dieEffect:10,horizontalLines:0,trail:0,glow:0,lines:false},"Medium+":{blockTexture:1,jumpEffect:15,walkEffect:15,dieEffect:15,horizontalLines:0,trail:0,glow:0,lines:false},"High":{blockTexture:1,jumpEffect:15,walkEffect:15,dieEffect:15,horizontalLines:15,trail:0,glow:0,lines:true},"High+":{blockTexture:1,jumpEffect:33,walkEffect:33,dieEffect:33,horizontalLines:33,trail:0,glow:0,lines:true},"Extreme":{blockTexture:1,jumpEffect:60,walkEffect:60,dieEffect:60,horizontalLines:60,trail:0,glow:1,lines:true},"Extreme+":{blockTexture:1,jumpEffect:64,walkEffect:64,dieEffect:64,horizontalLines:64,trail:1,glow:1,lines:true},"Ultra":{blockTexture:1,jumpEffect:100,walkEffect:100,dieEffect:100,horizontalLines:100,trail:0,glow:1,lines:true},"Ultra+":{blockTexture:1,jumpEffect:120,walkEffect:120,dieEffect:120,horizontalLines:120,trail:1,glow:1,lines:true},"Glow Highest":{blockTexture:1,jumpEffect:200,walkEffect:200,dieEffect:200,horizontalLines:200,trail:1,glow:1.5,lines:true}};

function readSettings(){try{let raw=localStorage.getItem(LS_KEY);if(!raw)return JSON.parse(JSON.stringify(defaultSettings));const parsed=JSON.parse(raw);const merged=JSON.parse(JSON.stringify(defaultSettings));if(parsed.maxFPS!==undefined)merged.maxFPS=parsed.maxFPS;if(parsed.qualityPreset)merged.qualityPreset=parsed.qualityPreset;if(parsed.quality)merged.quality={...merged.quality,...parsed.quality};return merged}catch(e){return JSON.parse(JSON.stringify(defaultSettings));}}
function writeSettings(s){try{localStorage.setItem(LS_KEY,JSON.stringify(s))}catch(e){}}
let settings=readSettings(),runtime={minFrameTime:0,effects:{jumpEffectMul:1,walkEffectMul:1,dieEffectMul:1,horizontalLinesMul:1,trailMul:1,blockTextureMul:1},glowEnabled:true,linesEnabled:true,trailEnabled:true};
function applySettingsToRuntime(){runtime.maxFPS=settings.maxFPS;runtime.qualityPreset=settings.qualityPreset;runtime.effects.jumpEffectMul=settings.quality.jumpEffect/100;runtime.effects.walkEffectMul=settings.quality.walkEffect/100;runtime.effects.dieEffectMul=settings.quality.dieEffect/100;runtime.effects.horizontalLinesMul=settings.quality.horizontalLines/100;runtime.effects.trailMul=settings.quality.trail/100;runtime.glowEnabled=settings.quality.glow>0;}
applySettingsToRuntime();
function applySettings(s){settings=s||settings;runtime.minFrameTime=!settings.maxFPS||settings.maxFPS===0?0:1000/Number(settings.maxFPS);writeSettings(settings);}
applySettings(settings);

// ---------- Utility ----------
function lerp(a,b,t){return a+t*(b-a);}
function spawnParticles(x,y,type,mul){/*particles code*/}

// ---------- Player jump ----------
function jump(){
  if(!player.visible) return;
  if(cheats.infiniteJump||player.jumpsLeft>0){
    player.vy=JUMP_SPEED;
    spawnParticles(player.x+player.width/2,player.y+player.height,player.jumpsLeft===2?"jump":"double",runtime.effects.jumpEffectMul);
    if(!cheats.infiniteJump)player.jumpsLeft--;
  }
}

// ---------- INPUT ----------
window.addEventListener('keydown',e=>{keys[e.code]=true;if(["KeyW","ArrowUp","Space"].includes(e.code))jump();});
window.addEventListener('keyup',e=>{keys[e.code]=false;});
window.addEventListener('mousedown',()=>jump());
window.addEventListener('touchstart',e=>{e.preventDefault();jump();},{passive:false});

// ---------- MAIN LOOP ----------
function mainLoop(now){
  let dt=(now-lastTime)/16.666;lastTime=now;globalTime+=dt;
  if(gameRunning){update(dt);render();}
  requestAnimationFrame(mainLoop);
}
requestAnimationFrame(mainLoop);

// ---------- UPDATE ----------
function update(dt){
  player.vy+=GRAVITY*dt;
  player.y+=player.vy*dt;
  player.onGround=false;
  // collision detection & platform check
  platforms.forEach(p=>{
    if(player.y+player.height>=p.y&&player.y+player.height<=p.y+p.height&&player.x+player.width>p.x&&player.x<p.x+p.width){
      player.y=p.y-player.height;
      player.vy=0;
      player.onGround=true;
      player.jumpsLeft=2;
    }
  });
  score=Math.max(score,Math.floor(globalTime));
  if(score>bestScore){bestScore=score;localStorage.setItem("bestScore",bestScore);}
  document.getElementById("scoreHUD").innerText="Score: "+score;
  document.getElementById("bestScore").innerText="Best Score: "+bestScore;
}

// ---------- RENDER ----------
function render(){
  ctx.clearRect(0,0,canvas.width,canvas.height);
  ctx.fillStyle=player.color;
  ctx.fillRect(player.x,player.y,player.width,player.height);
  platforms.forEach(p=>{ctx.fillStyle="#0ff";ctx.fillRect(p.x,p.y,p.width,p.height);});
}

// ---------- START ----------
document.getElementById("startBtn").addEventListener("click",()=>{gameRunning=true;player.x=100;player.y=100;player.vy=0;platforms=[{x:50,y:300,width:300,height:50},{x:400,y:500,width:300,height:50}];});
</script>
</body>
</html>
